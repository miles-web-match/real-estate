export type PropertyFacts = {
  物件名?: string;
  建物名?: string;
  所在地?: string;
  築年?: string;
  構造?: string;
  階数?: string;
  総戸数?: string;
  最寄駅?: string;
  徒歩分?: string;
  管理体制?: string;
  管理会社?: string;
  設備?: string;
  学区?: string;
  駐車場?: string;
  間取り?: string;
  専有面積?: string;
  バルコニー面積?: string;
  階?: string;
  方角?: string;
  リフォーム?: string;
  リノベーション?: string;
  室内設備?: string;
  [key: string]: string | undefined;
};

export const ALIASES: Record<string, keyof PropertyFacts> = {
  "所在地": "所在地",
  "住所": "所在地",
  "物件名": "物件名",
  "建物名": "建物名",
  "築年": "築年",
  "築年月": "築年",
  "竣工": "築年",
  "構造": "構造",
  "建物構造": "構造",
  "階数": "階数",
  "地上階数": "階数",
  "総戸数": "総戸数",
  "戸数": "総戸数",
  "最寄駅": "最寄駅",
  "交通": "最寄駅",
  "徒歩": "徒歩分",
  "徒歩分": "徒歩分",
  "管理体制": "管理体制",
  "管理方式": "管理体制",
  "管理会社": "管理会社",
  "設備": "設備",
  "特徴": "設備",
  "アピールポイント": "設備",
  "学区": "学区",
  "通学区域": "学区",
  "駐車場": "駐車場",
  "間取り": "間取り",
  "専有面積": "専有面積",
  "バルコニー面積": "バルコニー面積",
  "所在階": "階",
  "方角": "方角",
  "向き": "方角",
  "リフォーム": "リフォーム",
  "リノベ": "リノベーション",
  "リノベーション": "リノベーション",
  "室内設備": "室内設備",
};

export const REGEX_CANDIDATES: Array<[keyof PropertyFacts, RegExp]> = [
  ["所在地", /所在地[:：]\s*([^|・。,\n\r]+?)(?:[。,\n\r]|　|・)/],
  ["築年", /築(?:年|年月|竣工)[:：]?\s*([0-9０-９年月.\-/]+)/],
  ["構造", /構造[:：]\s*([^|・。,\n\r]+?)(?:[。,\n\r]|　|・)/],
  ["総戸数", /総戸数[:：]\s*([0-9０-９,，]+)戸/],
  ["階数", /(地上[0-9０-９]+階(?:\s*地下[0-9０-９]+階)?|[0-9０-９]+階建)/],
  ["最寄駅", /最寄[り]?駅[:：]?\s*([^|・。,\n\r]+?)(?:[。,\n\r]|　|・)/],
  ["徒歩分", /徒歩[:：]?\s*([0-9０-９]+)\s*分/],
  ["管理体制", /管理(?:会社|体制|方式)?[:：]?\s*([^|・。,\n\r]+?)(?:[。,\n\r]|　|・)/],
  ["設備", /設備[:：]\s*([^。]+)。(?:\s|$)/],
  ["駐車場", /駐車場[:：]?\s*([^。,\n\r]+)(?:[。,\n\r]|$)/],
  ["間取り", /間取り[:：]?\s*([0-9１-９LDKldk\+\s]+)(?=[。,,\s]|$)/],
  ["専有面積", /専有面積[:：]?\s*([0-9０-９.\-]+)\s*m²/],
  ["バルコニー面積", /バルコニー面積[:：]?\s*([0-9０-９.\-]+)\s*m²/],
  ["階", /所在階[:：]?\s*([0-9０-９]+階)/],
  ["方角", /(南向き|東向き|西向き|北向き)/],
  ["リフォーム", /リフォーム[:：]?\s*([^。]+)。(?:\s|$)/],
  ["リノベーション", /リノベ(?:ーション)?[:：]?\s*([^。]+)。(?:\s|$)/],
  ["室内設備", /(システムキッチン|床暖房|食洗機|ディスポーザー|浴室乾燥|WIC|ウォークインクローゼット|トランクルーム)(?:[^。]+)?/],
];

export const UNIT_ONLY_KEYS = [
  "間取り","専有面積","バルコニー面積","階","方角","リフォーム","リノベーション","室内設備",
] as const;

export const UNIT_ONLY_KEYWORDS = [
  "間取り","専有面積","バルコニー","所在階","階","方角","南向き","東向き","西向き","北向き",
  "リフォーム","リノベ","リノベーション","システムキッチン","床暖房","食洗機","ディスポーザー",
  "浴室乾燥","WIC","ウォークインクローゼット","トランクルーム"
];
